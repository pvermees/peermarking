## Ranked peer marking

The purpose of these scripts is to:

1. Optimally allocate peer marking assignments using John Talbot's
block designs (which are stored in `blocks.json`)

2. Randomly rename the pieces of coursework so as to ensure anonymity

3. Include marking instructions and a feedback form with the peer
ranking assignments

4. Parse the completed feedback forms and extract the ranked
assignments from them

5. Cast the rankings in a .pgf format and feed them into [Raman and
Joachims'](http://peergrading.org/) peer ranking algorithm, and rank
them using the Elo chess rating algorithm.

6. Collate the peer feedback for each student

Two versions of the code are available, written in Python-3 and R,
respectively. I am more familiar with R than I am with Python, and do
not plan to maintain the Python version in the future. Hence it is
best to use the R version.

To run the code, you can either download this GitHub repository as a
zip archive, or clone it on your system:

```
git clone https://github.com/pvermees/peermarking
```

This repository contains three scripts and five folders:

* `setup.R` and `setup.py`: This code allocates the peer marking
  assignments (steps 1-3 above)

* `mark.R` and `mark.py`: This code parses the feedback forms and
  extracts the ranks (steps 4-6 above)

* `test.R` and `test.py`: This code automatically creates test files
  in which the marks scale with the alphabetical order of the student
  names. This facilitates visual verification of accuracy.

* `1-submissions`: This is where you must place the assessments. The
default contents of this folder were generated by `test.R`/`test.py`

* `2-assignments`: This folder is automatically populated by
  `setup.R` or `setup.py`

* `3-reviews`: This folder contains the completed feedback forms from
  each student.

* `4-feedback`: This folder is automatically populated by `mark.R` or
  `mark.py`

* `5-marks`: This folder contains a .pgf file that can be copied and
  pasted into [Raman and Joachims'](http://peergrading.org/) online
  ranking algorithm; and the Elo chess rating table.

To execute the R code, first install the `PlayerRatings` package from CRAN:

```
install.packages('PlayerRatings')
```

and set your working directory to the main directory of the GitHub
repository. To run setps 1-3:

```
source('setup.R')
```

for steps 4-6:

```
source('mark.R')
```

In Python, this becomes:

```
python3 setup.py
```

and

```
python3 mark.py
```

respectively.
